RewriteEngine On
RewriteBase /

# -------------------------------------
# 1. Weiterleitung von .html-URLs zu HTML-losen Pfaden
# z. B. /about.html → /about
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.+)\.html$ /$1 [R=301,L]

# -------------------------------------
# 2. URLs ohne .html auf tatsächliche .html-Dateien mappen
# z. B. /about → /about.html
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !\.(css|js|png|jpg|jpeg|webp|svg|gif|ico|woff2?)$ [NC]
RewriteRule ^([a-zA-Z0-9/_-]+)$ $1.html [L]

# -------------------------------------
# 3. Sprachpfad "/en" behandeln → /en/about → /about.html (englische Variante)
RewriteCond %{REQUEST_URI} ^/en/
RewriteRule ^en/(.*)$ /$1.html [L]

# Optional: /en auf eine spezielle Startseite leiten
RewriteRule ^en/?$ /index.html [L]

# -------------------------------------
# 4. Fehlerseite bei unbekannten Pfaden
ErrorDocument 404 /404.html